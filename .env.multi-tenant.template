# üè¢ EasyCashFlows Multi-Tenant Configuration
# Configurazione per deployment multipli clienti

# ============================================
# üåê CONFIGURAZIONE PROXY E SSL
# ============================================

# Dominio principale e email per Let's Encrypt
DEFAULT_HOST=easycashflows.yourdomain.com
LETSENCRYPT_EMAIL=admin@yourdomain.com

# ============================================
# üë§ CLIENTE A - Configurazione
# ============================================

# Dominio dedicato Cliente A
CLIENT_A_DOMAIN=clientea.yourdomain.com
CLIENT_A_EMAIL=admin@clientea.com

# Database dedicato Cliente A (Neon gratuito)
CLIENT_A_DATABASE_URL=postgresql://user:pass@ep-xxx.neon.tech/clientea_db?sslmode=require

# Servizi opzionali Cliente A
CLIENT_A_SENDGRID_API_KEY=SG.clienta-sendgrid-key
CLIENT_A_TWILIO_ACCOUNT_SID=AC.clienta-twilio-sid
CLIENT_A_TWILIO_AUTH_TOKEN=clienta-twilio-token

# ============================================
# üë§ CLIENTE B - Configurazione  
# ============================================

# Dominio dedicato Cliente B
CLIENT_B_DOMAIN=clienteb.yourdomain.com
CLIENT_B_EMAIL=admin@clienteb.com

# Database dedicato Cliente B (Neon gratuito)
CLIENT_B_DATABASE_URL=postgresql://user:pass@ep-yyy.neon.tech/clienteb_db?sslmode=require

# Servizi opzionali Cliente B
CLIENT_B_SENDGRID_API_KEY=SG.clientb-sendgrid-key
CLIENT_B_TWILIO_ACCOUNT_SID=AC.clientb-twilio-sid
CLIENT_B_TWILIO_AUTH_TOKEN=clientb-twilio-token

# ============================================
# üë§ CLIENTE C - Configurazione
# ============================================

# Dominio dedicato Cliente C
CLIENT_C_DOMAIN=clientec.yourdomain.com
CLIENT_C_EMAIL=admin@clientec.com

# Database dedicato Cliente C (Neon gratuito)
CLIENT_C_DATABASE_URL=postgresql://user:pass@ep-zzz.neon.tech/clientec_db?sslmode=require

# Servizi opzionali Cliente C
CLIENT_C_SENDGRID_API_KEY=SG.clientc-sendgrid-key
CLIENT_C_TWILIO_ACCOUNT_SID=AC.clientc-twilio-sid
CLIENT_C_TWILIO_AUTH_TOKEN=clientc-twilio-token

# ============================================
# üóÑÔ∏è DATABASE CONDIVISO (OPZIONALE)
# ============================================
# Se preferisci un database PostgreSQL condiviso invece di Neon

POSTGRES_MASTER_PASSWORD=your-super-secure-master-password

# ============================================
# üìñ GUIDA SETUP MULTI-TENANT
# ============================================
#
# 1. PREPARAZIONE DOMINI:
#    - Registra domini per ogni cliente
#    - Configura DNS A record per puntare al tuo server IP
#    - Esempio: clientea.yourdomain.com ‚Üí 192.168.1.100
#
# 2. SETUP DATABASE PER CLIENTE:
#    Opzione A - Neon (consigliato):
#    - Vai su https://neon.tech per ogni cliente
#    - Crea database separato per ogni cliente
#    - Configura CLIENT_X_DATABASE_URL sopra
#
#    Opzione B - Database condiviso:
#    - Decommenta POSTGRES_MASTER_PASSWORD
#    - Usa --profile shared-db nel comando docker compose
#
# 3. DEPLOY:
#    docker compose -f docker-compose.multi-tenant.yml up -d
#
# 4. ACCESSO CLIENTI:
#    - Cliente A: https://clientea.yourdomain.com (SSL automatico)
#    - Cliente B: https://clienteb.yourdomain.com (SSL automatico)
#    - Cliente C: https://clientec.yourdomain.com (SSL automatico)
#
# 5. AGGIUNGERE NUOVI CLIENTI:
#    - Copia template cliente nel docker-compose
#    - Aggiungi configurazione in questo .env
#    - Rilancia: docker compose up -d
#
# ============================================